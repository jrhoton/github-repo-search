{"version":3,"sources":["store/repoSlice.js","components/views/RepositoryItem/RepositoryItem.js","components/views/RepositoriesList/RepositoriesList.js","components/views/Search/Search.js","components/containers/Search/Search.js","components/containers/Details/Details.js","components/App.js","store/querySlice.js","store/configureStore.js","index.js"],"names":["fetchRepos","createAsyncThunk","queryString","a","axios","get","params","q","repoSlice","createSlice","name","initialState","items","selected","loading","reducers","selectRepo","state","action","find","repo","id","payload","extraReducers","pending","fulfilled","data","rejected","actions","RepositoryItem","props","className","css","to","onClick","description","language","RepositoriesList","list","results","map","viewDetail","Search","onKeyDown","e","key","search","FormControl","InputLabel","Input","value","queryParams","keyword","onChange","updateCriteria","target","required","style","minWidth","Select","sort","MenuItem","Button","color","variant","disabled","allowSearch","CircularProgress","useSelector","useState","setQueryParams","setAllowSearch","dispatch","useDispatch","criteria","preventDefault","query","Object","entries","forEach","concat","Details","full_name","created_at","stargazers_count","href","html_url","App","path","component","querySlice","sortBy","updateQueryString","sortResults","configureStore","reducer","queryReducer","repoReducer","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.ed008492.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialRepoState = {\r\n    items: [],\r\n    selected: {},\r\n    loading: false,\r\n    // error: null,\r\n};\r\n\r\nexport const fetchRepos = createAsyncThunk(\r\n    'repo/fetchRepos',\r\n    async (queryString) => {\r\n        // console.log(queryString);\r\n        return await axios.get('https://api.github.com/search/repositories', {\r\n            params: {q: queryString}\r\n        });\r\n    }\r\n);\r\n\r\nexport const repoSlice = createSlice({\r\n    name: 'repositories',\r\n    initialState: initialRepoState,\r\n    reducers: {\r\n        selectRepo(state, action) {\r\n            state.selected = state.items.find(repo => repo.id === action.payload);\r\n        },\r\n    },\r\n    extraReducers: {\r\n        [fetchRepos.pending]: (state) => {\r\n            state.loading = true;\r\n            // state.error = null;\r\n        },\r\n        [fetchRepos.fulfilled]: (state, action) => {\r\n            state.items = [...action.payload.data.items];\r\n            state.loading = false;\r\n            // state.error = null;\r\n        },\r\n        [fetchRepos.rejected]: (state, action) => {\r\n            state.items = [];\r\n            state.loading = false;\r\n            // state.error = action.payload.error;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { selectRepo } = repoSlice.actions;\r\n\r\nexport default repoSlice.reducer;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as css from './RepositoryItem.css';\r\n\r\nconst RepositoryItem = (props) => {\r\n    return (\r\n        <Link\r\n            className={css.row}\r\n            to=\"/details\"\r\n            onClick={() => props.onClick(props.repo.id)}>\r\n            <div>{props.repo.name}</div>\r\n            <div>{props.repo.description}</div>\r\n            <div>{props.repo.language}</div>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default RepositoryItem;","import React from 'react';\r\nimport RepositoryItem from '../RepositoryItem/RepositoryItem';\r\nimport * as css from './RepositoriesList.module.css';\r\n\r\nconst RepositoriesList = (props) => {\r\n    let list = null\r\n    if (props.results) {\r\n        list = props.results.map(repo => <RepositoryItem key={repo.id} repo={repo} onClick={() => props.viewDetail(repo.id)} />);\r\n    }\r\n\r\n    return(\r\n        <div className={css.results}>\r\n            {list}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RepositoriesList;","import React from 'react';\r\nimport { FormControl, InputLabel, Input, Select, MenuItem, Button, CircularProgress} from '@material-ui/core';\r\nimport * as css from './Search.module.css';\r\nimport RepositoriesList from '../RepositoriesList/RepositoriesList';\r\n\r\nconst Search = (props) => {\r\n    return (\r\n        <div>\r\n            <div \r\n                className={css.searchContainer}\r\n                onKeyDown={e => {if (e.key === 'Enter') {props.search(e)}}}>\r\n                <FormControl>\r\n                    <InputLabel>Search Repositories</InputLabel>\r\n                    <Input\r\n                        className={css.searchField}\r\n                        name='keyword'\r\n                        value={props.queryParams.keyword || ''}\r\n                        onChange={e => props.updateCriteria('keyword', e.target.value)}\r\n                        required />\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel>Language</InputLabel>\r\n                    <Input\r\n                        className={css.searchField}\r\n                        name='language'\r\n                        value={props.queryParams.language || ''}\r\n                        onChange={e => props.updateCriteria('language', e.target.value)} />\r\n                </FormControl>\r\n                <FormControl style={{minWidth: 120}}>\r\n                    <InputLabel>Sort By</InputLabel>\r\n                    <Select\r\n                        name='sort' \r\n                        value={props.queryParams.sort || ''}\r\n                        onChange={e => props.updateCriteria('sort', e.target.value)}>\r\n                        <MenuItem value=''>Best Match</MenuItem>\r\n                        <MenuItem value='stars'>Stars</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <Button \r\n                    color='primary'\r\n                    variant='contained'\r\n                    onClick={e => props.search(e)}\r\n                    disabled={!props.allowSearch}>\r\n                    Search\r\n                </Button>\r\n            </div>\r\n            {props.loading ? \r\n                <CircularProgress color='primary' /> :\r\n                <RepositoriesList\r\n                    results={props.results}\r\n                    viewDetail={props.viewDetail} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchRepos, selectRepo } from '../../../store/repoSlice';\r\nimport { default as SearchView } from '../../views/Search/Search';\r\n\r\nconst Search = () => {\r\n    const results = useSelector(state => state.repo.items);\r\n    const loading = useSelector(state => state.repo.loading);\r\n\r\n    const [queryParams, setQueryParams] = useState({});\r\n    const [allowSearch, setAllowSearch] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const updateCriteria = (key, value) => {\r\n        const criteria = {...queryParams, [key]: value};\r\n        criteria ? setAllowSearch(true) : setAllowSearch(false);\r\n        setQueryParams(criteria);\r\n    }\r\n\r\n    const handleSearch = (e) => {\r\n        e.preventDefault();\r\n        let query = '';\r\n        Object.entries(queryParams).forEach(([key, value]) => {\r\n            if (value) {\r\n                if (query) {query = query.concat(' ')}\r\n                if (key === 'keyword') {\r\n                    query = query.concat(value);\r\n                } else {\r\n                    query = query.concat(key, ':\"', value, '\"');\r\n                }\r\n            }\r\n        });\r\n        dispatch(fetchRepos(query));\r\n    }\r\n\r\n    const selectRepository = (id) => {\r\n        dispatch(selectRepo(id));\r\n    };\r\n    \r\n    return (\r\n        <SearchView \r\n            queryParams={queryParams}\r\n            updateCriteria={updateCriteria}\r\n            allowSearch={allowSearch}\r\n            search={handleSearch}\r\n            loading={loading}\r\n            results={results}\r\n            viewDetail={selectRepository} />\r\n    );  \r\n};\r\n\r\nexport default Search;","import React, { Fragment } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport * as css from './Details.css';\r\n\r\nconst Details = () => {\r\n    const repo = useSelector(state => state.repo.selected);\r\n\r\n    return(\r\n        <Fragment>\r\n            <Link to=\"/\">Back to Search Results</Link>\r\n            <div className={css.card}>\r\n                <div className={css.header}>\r\n                    {/* <img \r\n                        className={css.avatar}\r\n                        src={repo.owner.avatar_url} \r\n                        alt=\"avatar\" /> */}\r\n                    <div className={css.nameBlock}>\r\n                        <h3>{repo.full_name}</h3>\r\n                        <h3>{repo.created_at}</h3>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <h2>{repo.stargazers_count}</h2>\r\n                </div>\r\n                <p>{repo.description}</p>\r\n                <div className={css.footer}>\r\n                    <div>{repo.language}</div>\r\n                    <div>\r\n                        <a href={repo.html_url}>View on GitHub</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Details;","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Search from './containers/Search/Search';\nimport Details from './containers/Details/Details';\nimport './App.css';\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <div className='App'>\n        <Switch>\n          <Route path='/details' component={Details} />\n          <Route path='/' component={Search} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialQueryState = {\r\n    // queryParams: \"\",\r\n    queryString: '',\r\n    sortBy: '',\r\n    // filter by language?\r\n};\r\n\r\nexport const querySlice = createSlice({\r\n    name: 'query',\r\n    initialState: initialQueryState,\r\n    reducers: {\r\n        updateQueryString(state, action) {\r\n            // regex match replace all non words with spaces?\r\n            state.queryString = action.payload;\r\n        },\r\n        sortResults(state, action) {\r\n            state.sortBy = action.payload;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { updateQueryString, sortResults } = querySlice.actions;\r\n\r\nexport default querySlice.reducer;","import { configureStore } from '@reduxjs/toolkit';\r\nimport queryReducer from './querySlice';\r\nimport repoReducer from './repoSlice';\r\n\r\nexport default configureStore({\r\n    reducer: {\r\n        query: queryReducer,\r\n        repo: repoReducer,\r\n    },\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './components/App';\nimport store from '../src/store/configureStore';\nimport './index.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}