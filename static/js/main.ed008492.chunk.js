(this["webpackJsonpgithub-repo-search"]=this["webpackJsonpgithub-repo-search"]||[]).push([[0],{108:function(e,t,r){},109:function(e,t,r){},110:function(e,t,r){"use strict";r.r(t);var c,n=r(0),a=r(8),i=r.n(a),s=r(26),o=r(33),u=r(12),l=r(24),j=r(52),d=r(49),b=r(73),h=r(53),O=r.n(h),p=r(65),f=r(66),x=r.n(f),m=r(32),g=Object(m.b)("repo/fetchRepos",function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://api.github.com/search/repositories",{params:{q:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(m.c)({name:"repositories",initialState:{items:[],selected:{},loading:!1},reducers:{selectRepo:function(e,t){e.selected=e.items.find((function(e){return e.id===t.payload}))}},extraReducers:(c={},Object(l.a)(c,g.pending,(function(e){e.loading=!0})),Object(l.a)(c,g.fulfilled,(function(e,t){e.items=Object(b.a)(t.payload.data.items),e.loading=!1})),Object(l.a)(c,g.rejected,(function(e,t){e.items=[],e.loading=!1})),c)}),y=v.actions.selectRepo,w=v.reducer,S=r(138),k=r(146),C=r(142),q=r(145),N=r(147),R=r(143),B=r(144),D=r(48),P=r(67),_=r(4),E=function(e){return Object(_.jsxs)(o.b,{className:P.row,to:"/details",onClick:function(){return e.onClick(e.repo.id)},children:[Object(_.jsx)("div",{children:e.repo.name}),Object(_.jsx)("div",{children:e.repo.description}),Object(_.jsx)("div",{children:e.repo.language})]})},F=r(69),J=function(e){var t=null;return e.results&&(t=e.results.map((function(t){return Object(_.jsx)(E,{repo:t,onClick:function(){return e.viewDetail(t.id)}},t.id)}))),Object(_.jsx)("div",{className:F.results,children:t})},Q=function(e){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:D.searchContainer,onKeyDown:function(t){"Enter"===t.key&&e.search(t)},children:[Object(_.jsxs)(S.a,{children:[Object(_.jsx)(k.a,{children:"Search Repositories"}),Object(_.jsx)(C.a,{className:D.searchField,name:"keyword",value:e.queryParams.keyword||"",onChange:function(t){return e.updateCriteria("keyword",t.target.value)},required:!0})]}),Object(_.jsxs)(S.a,{children:[Object(_.jsx)(k.a,{children:"Language"}),Object(_.jsx)(C.a,{className:D.searchField,name:"language",value:e.queryParams.language||"",onChange:function(t){return e.updateCriteria("language",t.target.value)}})]}),Object(_.jsxs)(S.a,{style:{minWidth:120},children:[Object(_.jsx)(k.a,{children:"Sort By"}),Object(_.jsxs)(q.a,{name:"sort",value:e.queryParams.sort||"",onChange:function(t){return e.updateCriteria("sort",t.target.value)},children:[Object(_.jsx)(N.a,{value:"",children:"Best Match"}),Object(_.jsx)(N.a,{value:"stars",children:"Stars"})]})]}),Object(_.jsx)(R.a,{color:"primary",variant:"contained",onClick:function(t){return e.search(t)},disabled:!e.allowSearch,children:"Search"})]}),e.loading?Object(_.jsx)(B.a,{color:"primary"}):Object(_.jsx)(J,{results:e.results,viewDetail:e.viewDetail})]})},z=function(){var e=Object(s.c)((function(e){return e.repo.items})),t=Object(s.c)((function(e){return e.repo.loading})),r=Object(n.useState)({}),c=Object(d.a)(r,2),a=c[0],i=c[1],o=Object(n.useState)(!1),u=Object(d.a)(o,2),b=u[0],h=u[1],O=Object(s.b)();return Object(_.jsx)(Q,{queryParams:a,updateCriteria:function(e,t){var r=Object(j.a)(Object(j.a)({},a),{},Object(l.a)({},e,t));h(!!r),i(r)},allowSearch:b,search:function(e){e.preventDefault();var t="";Object.entries(a).forEach((function(e){var r=Object(d.a)(e,2),c=r[0],n=r[1];n&&(t&&(t=t.concat(" ")),t="keyword"===c?t.concat(n):t.concat(c,':"',n,'"'))})),O(g(t))},loading:t,results:e,viewDetail:function(e){O(y(e))}})},A=r(42),G=function(){var e=Object(s.c)((function(e){return e.repo.selected}));return Object(_.jsxs)(n.Fragment,{children:[Object(_.jsx)(o.b,{to:"/",children:"Back to Search Results"}),Object(_.jsxs)("div",{className:A.card,children:[Object(_.jsx)("div",{className:A.header,children:Object(_.jsxs)("div",{className:A.nameBlock,children:[Object(_.jsx)("h3",{children:e.full_name}),Object(_.jsx)("h3",{children:e.created_at})]})}),Object(_.jsx)("div",{children:Object(_.jsx)("h2",{children:e.stargazers_count})}),Object(_.jsx)("p",{children:e.description}),Object(_.jsxs)("div",{className:A.footer,children:[Object(_.jsx)("div",{children:e.language}),Object(_.jsx)("div",{children:Object(_.jsx)("a",{href:e.html_url,children:"View on GitHub"})})]})]})]})},H=(r(108),function(){return Object(_.jsx)(o.a,{children:Object(_.jsx)("div",{className:"App",children:Object(_.jsxs)(u.c,{children:[Object(_.jsx)(u.a,{path:"/details",component:G}),Object(_.jsx)(u.a,{path:"/",component:z})]})})})}),I=Object(m.c)({name:"query",initialState:{queryString:"",sortBy:""},reducers:{updateQueryString:function(e,t){e.queryString=t.payload},sortResults:function(e,t){e.sortBy=t.payload}}}),K=I.actions,L=(K.updateQueryString,K.sortResults,I.reducer),M=Object(m.a)({reducer:{query:L,repo:w}});r(109);i.a.render(Object(_.jsx)(s.a,{store:M,children:Object(_.jsx)(H,{})}),document.getElementById("root"))},42:function(e,t,r){},48:function(e,t,r){},67:function(e,t,r){},69:function(e,t,r){}},[[110,1,2]]]);
//# sourceMappingURL=main.ed008492.chunk.js.map