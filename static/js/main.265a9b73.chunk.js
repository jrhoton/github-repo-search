(this["webpackJsonpgithub-repo-search"]=this["webpackJsonpgithub-repo-search"]||[]).push([[0],{101:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){"use strict";c.r(t);var a,n=c(0),r=c(8),s=c.n(r),i=c(26),l=c(32),o=c(10),u=c(24),j=c(50),d=c(47),b=c(69),h=c(51),O=c.n(h),m=c(63),p=c(64),x=c.n(p),f=c(41),g=Object(f.b)("repo/fetchRepos",function(){var e=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://api.github.com/search/repositories",{params:{q:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(f.c)({name:"repositories",initialState:{items:[],selected:null,loading:!1},reducers:{selectRepo:function(e,t){e.selected=e.items.find((function(e){return e.id===t.payload}))}},extraReducers:(a={},Object(u.a)(a,g.pending,(function(e){e.loading=!0})),Object(u.a)(a,g.fulfilled,(function(e,t){e.items=Object(b.a)(t.payload.data.items),e.loading=!1})),Object(u.a)(a,g.rejected,(function(e,t){e.items=[],e.loading=!1})),a)}),N=v.actions.selectRepo,w=v.reducer,y=c(138),C=c(146),k=c(142),S=c(145),R=c(147),q=c(143),D=c(144),_=(c(101),c(3)),B=function(e){return Object(_.jsxs)(l.b,{className:"row",to:"/details",onClick:function(){return e.onClick(e.repo.id)},children:[Object(_.jsx)("div",{className:"nameColumn",children:e.repo.name}),Object(_.jsx)("div",{className:"column",children:e.repo.language}),Object(_.jsx)("div",{className:"column alignRight",children:e.repo.stargazers_count})]})},P=(c(105),function(e){var t=null;return e.results&&(t=e.results.map((function(t){return Object(_.jsx)(B,{repo:t,onClick:function(){return e.viewDetail(t.id)}},t.id)}))),Object(_.jsxs)("div",{className:"resultsContainer",children:[Object(_.jsxs)("div",{className:"columnHeadings",children:[Object(_.jsx)("div",{className:"nameColumn",children:"Repository Name"}),Object(_.jsx)("div",{className:"column",children:"Language"}),Object(_.jsx)("div",{className:"column alignRight",children:"Stars"})]}),t]})}),E=(c(106),function(e){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"searchContainer",onKeyDown:function(t){"Enter"===t.key&&e.search(t)},children:[Object(_.jsxs)(y.a,{className:"grow control",children:[Object(_.jsx)(C.a,{children:"Search Repositories"}),Object(_.jsx)(k.a,{name:"keyword",value:e.queryParams.keyword||"",onChange:function(t){return e.updateCriteria("keyword",t.target.value)},required:!0})]}),Object(_.jsxs)(y.a,{className:"control",children:[Object(_.jsx)(C.a,{children:"Language"}),Object(_.jsx)(k.a,{name:"language",value:e.queryParams.language||"",onChange:function(t){return e.updateCriteria("language",t.target.value)}})]}),Object(_.jsxs)(y.a,{style:{minWidth:120},children:[Object(_.jsx)(C.a,{children:"Sort By"}),Object(_.jsxs)(S.a,{name:"sort",value:e.queryParams.sort||"",onChange:function(t){return e.updateCriteria("sort",t.target.value)},children:[Object(_.jsx)(R.a,{value:"",children:"Best Match"}),Object(_.jsx)(R.a,{value:"stars",children:"Stars"})]})]}),Object(_.jsx)("div",{className:"control",children:Object(_.jsx)(q.a,{color:"primary",variant:"contained",onClick:function(t){return e.search(t)},disabled:!e.allowSearch,children:"Search"})})]}),e.loading?Object(_.jsx)(D.a,{color:"primary"}):null,e.results.length>0?Object(_.jsx)(P,{results:e.results,viewDetail:e.viewDetail}):null]})}),L=function(){var e=Object(i.c)((function(e){return e.repo.items})),t=Object(i.c)((function(e){return e.repo.loading})),c=Object(n.useState)({}),a=Object(d.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)(!1),o=Object(d.a)(l,2),b=o[0],h=o[1],O=Object(i.b)();return Object(_.jsx)(E,{queryParams:r,updateCriteria:function(e,t){var c=Object(j.a)(Object(j.a)({},r),{},Object(u.a)({},e,t));h(!!c),s(c)},allowSearch:b,search:function(e){e.preventDefault();var t="";Object.entries(r).forEach((function(e){var c=Object(d.a)(e,2),a=c[0],n=c[1];n&&(t&&(t=t.concat(" ")),t="keyword"===a?t.concat(n):t.concat(a,':"',n,'"'))})),O(g(t))},loading:t,results:e,viewDetail:function(e){O(N(e))}})},z=(c(107),function(){var e=Object(i.c)((function(e){return e.repo.selected}));return Object(_.jsx)(n.Fragment,{children:e?Object(_.jsxs)("div",{className:"detailsContainer",children:[Object(_.jsx)("a",{href:e.owner.html_url,children:Object(_.jsxs)("div",{className:"header",children:[Object(_.jsx)("img",{className:"avatar",src:e.owner.avatar_url,alt:"avatar"}),Object(_.jsx)("h2",{className:"name",children:e.full_name})]})}),Object(_.jsx)("p",{className:"desc",children:e.description}),Object(_.jsxs)("div",{className:"condensed",children:[Object(_.jsx)("p",{children:"Language: ".concat(e.language)}),Object(_.jsx)("p",{children:"Stars: ".concat(e.stargazers_count)})]}),Object(_.jsxs)("div",{className:"condensed",children:[Object(_.jsx)(l.b,{to:"/",children:"<< Back"}),Object(_.jsx)("a",{href:e.html_url,className:"floatRight",children:"View Repository >>"})]})]}):Object(_.jsx)(o.a,{to:"/"})})}),J=(c(108),function(){return Object(_.jsx)(l.a,{children:Object(_.jsx)("div",{className:"App",children:Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{path:"/details",component:z}),Object(_.jsx)(o.b,{path:"/",component:L})]})})})}),A=Object(f.a)({reducer:{repo:w}});c(109);s.a.render(Object(_.jsx)(i.a,{store:A,children:Object(_.jsx)(J,{})}),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.265a9b73.chunk.js.map