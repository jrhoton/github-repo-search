(this["webpackJsonpgithub-repo-search"]=this["webpackJsonpgithub-repo-search"]||[]).push([[0],{114:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a(9),s=a.n(c),l=a(21),i=a(35),o=a(10),u=a(40),j=a(164),d=a(156),b=a(125),h=(a(93),a(3)),O=function(e){var t=Object(n.useState)(!0),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(h.jsx)(j.a,{"aria-label":"error modal",role:"alert",className:"modal",open:r,onClose:function(){c(!1)},closeAfterTransition:!0,BackdropComponent:d.a,BackdropProps:{timeout:500},children:Object(h.jsx)(b.a,{in:r,children:Object(h.jsxs)("div",{className:"errorMessage",children:[Object(h.jsx)("h2",{children:"Error!"}),Object(h.jsx)("p",{children:e.message})]})})})},m=a(29),p=a(57),x=a(79),g=a(58),f=a.n(g),v=a(77),N=a(78),y=a.n(N),w=a(46),C=Object(w.b)("repo/fetchRepos",function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://api.github.com/search/repositories",{params:{q:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=Object(w.c)({name:"repositories",initialState:{items:null,selected:null,loading:!1,error:null},reducers:{selectRepo:function(e,t){e.selected=e.items.find((function(e){return e.id===t.payload}))}},extraReducers:(r={},Object(m.a)(r,C.pending,(function(e){e.items=[],e.loading=!0,e.error=null})),Object(m.a)(r,C.fulfilled,(function(e,t){e.items=Object(x.a)(t.payload.data.items),e.loading=!1})),Object(m.a)(r,C.rejected,(function(e,t){e.items=[],e.loading=!1,e.error=t.error})),r)}),R=k.actions.selectRepo,S=k.reducer,q=a(160),B=a(165),D=a(161),_=a(163),P=a(166),E=a(162),L=a(159),z=(a(114),function(e){return Object(h.jsxs)(i.b,{role:"result link","aria-label":"repository item",className:"row",to:"/details",onClick:function(){return e.selectRepo(e.repo.id)},children:[Object(h.jsx)("div",{className:"nameColumn",children:e.repo.name}),Object(h.jsx)("div",{className:"column",children:e.repo.language}),Object(h.jsx)("div",{className:"column alignRight",children:e.repo.stargazers_count})]})}),A=(a(119),function(e){var t=null;return e.results&&(t=e.results.map((function(t){return Object(h.jsx)(z,{repo:t,selectRepo:function(){return e.viewDetail(t.id)}},t.id)}))),Object(h.jsxs)("div",{className:"resultsContainer","aria-label":"results list",children:[Object(h.jsxs)("div",{className:"columnHeadings",children:[Object(h.jsx)("div",{className:"nameColumn",children:"Repository Name"}),Object(h.jsx)("div",{className:"column",children:"Language"}),Object(h.jsx)("div",{className:"column alignRight",children:"Stars"})]}),e.loading?Object(h.jsx)(L.a,{"aria-label":"loading results",style:{marginLeft:"50%"},size:40,left:-20,top:30}):null,t]})}),F=(a(120),function(e){return Object(h.jsxs)(n.Fragment,{children:[Object(h.jsxs)("div",{className:"searchControls","aria-label":"search controls",onKeyDown:function(t){"Enter"===t.key&&e.search(t)},children:[Object(h.jsxs)(q.a,{className:"grow control","aria-label":"keyword search",children:[Object(h.jsx)(B.a,{children:"Search Repositories"}),Object(h.jsx)(D.a,{name:"keyword",role:"text control",value:e.queryParams.keyword||"",onChange:function(t){return e.updateCriteria("keyword",t.target.value)},required:!0})]}),Object(h.jsxs)(q.a,{className:"control","aria-label":"language search",children:[Object(h.jsx)(B.a,{children:"Language"}),Object(h.jsx)(D.a,{name:"language",role:"text control",value:e.queryParams.language||"",onChange:function(t){return e.updateCriteria("language",t.target.value)}})]}),Object(h.jsxs)(q.a,{"aria-label":"sort by",style:{minWidth:120},children:[Object(h.jsx)(B.a,{children:"Sort By"}),Object(h.jsxs)(_.a,{name:"sort",role:"select control",value:e.queryParams.sort||"",onChange:function(t){return e.updateCriteria("sort",t.target.value)},children:[Object(h.jsx)(P.a,{value:"",children:"Best Match"}),Object(h.jsx)(P.a,{value:"stars",children:"Stars"})]})]}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)(E.a,{"aria-label":"search button",role:"button",color:"primary",variant:"contained",onClick:function(t){return e.search(t)},disabled:!e.allowSearch,children:"Search"})})]}),e.loading||e.results?Object(h.jsx)(A,{loading:e.loading,results:e.results,viewDetail:e.viewDetail}):null]})}),J=function(){var e=Object(l.c)((function(e){return e.repo.items})),t=Object(l.c)((function(e){return e.repo.loading})),a=Object(n.useState)({}),r=Object(u.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!1),o=Object(u.a)(i,2),j=o[0],d=o[1],b=Object(l.b)();return Object(h.jsx)(F,{queryParams:c,updateCriteria:function(e,t){var a=Object(p.a)(Object(p.a)({},c),{},Object(m.a)({},e,t));d(!!a),s(a)},allowSearch:j,search:function(e){e.preventDefault();var t="";Object.entries(c).forEach((function(e){var a=Object(u.a)(e,2),r=a[0],n=a[1];n&&(t&&(t=t.concat(" ")),t="keyword"===r?t.concat(n):t.concat(r,':"',n,'"'))})),b(C(t))},loading:t,results:e,viewDetail:function(e){b(R(e))}})},M=(a(122),function(){var e=Object(l.c)((function(e){return e.repo.selected}));return Object(h.jsx)(n.Fragment,{children:e?Object(h.jsxs)("div",{className:"detailsContainer",children:[Object(h.jsx)("a",{href:e.owner.html_url,children:Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("img",{className:"avatar",src:e.owner.avatar_url,alt:"avatar"}),Object(h.jsx)("h2",{className:"name",children:e.full_name})]})}),Object(h.jsx)("p",{className:"desc",children:e.description}),Object(h.jsxs)("div",{className:"condensed",children:[Object(h.jsx)("p",{children:"Language: ".concat(e.language)}),Object(h.jsx)("p",{children:"Stars: ".concat(e.stargazers_count)})]}),Object(h.jsxs)("div",{className:"condensed",children:[Object(h.jsx)(i.b,{to:"/",children:"<< Back"}),Object(h.jsx)("a",{href:e.html_url,className:"floatRight",children:"View Repository >>"})]})]}):Object(h.jsx)(o.a,{to:"/"})})}),H=function(){var e=Object(l.c)((function(e){return e.repo.error}));return Object(h.jsxs)(i.a,{basename:"/github-repo-search",children:[e?Object(h.jsx)(O,{message:e.message}):null,Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/details",component:M}),Object(h.jsx)(o.b,{path:"/",component:J})]})})]})},I=Object(w.a)({reducer:{repo:S}});a(123);s.a.render(Object(h.jsx)(l.a,{store:I,children:Object(h.jsx)(H,{})}),document.getElementById("root"))},93:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.52ac3bfd.chunk.js.map